## [1장 후기]
js코드로 되어있는 예제코드를 java로 작성한다는 점에서 폴리글랏 스터디같다라는 얘기를 들었다. 

chapter1은  토비님이 공유해주신 java로 작성되어있는 코드를 중간중간 참고하며 진행하였다. [링크](https://github.com/Youngerjesus/refactoring-2nd-edition/blob/master/document/chapter-01/README.md
) 

chapter2부터는 책 내용을 기반으로 좀 더 고민하여 과제를  진행해 보려 한다.
<br><br>


1장은 메인이 되는 메서드를 기반으로 절차지향식으로 구현되어있는 코드를 책에서 설명하는 여러 기법을 사용하여 리팩토링을 진행하는 과정을 담고 있다.
책에서 설명하는 대표적인 **리팩터링 기법 순서**는 아래와 같다.
<br><br>

1. 테스트 작성(리팩터링시 '컴파일-테스트-커밋' 단계 준수)
2. 지역 변수 제거
3. 함수로 추출
   
   ex)
   (1) 반복문 쪼개기
   (2) 문장 슬라이드하기
   (3) 함수 추출하기
   (4) 변수 인라인하기
4. 단계 분리
5. 다형성 적용
<br><br>

의미상으로 메서드를 쪼개서 단위 테스트가 가능하게 코드를 작성하는 과정이 next-step의 java-playground(혹은 우테코 프리코스)와 비슷하였다.
그때와 비슷하게 가장 어려움을 느낀 부분은 리팩터링 기법의 4번째 단계이다.

이미 누군가가 고민 끝에 정답에 가까운 결과물을 만들어 놓은 코드를 리팩터링하는 예제를 학습하는 과정은, 
길을 구축하는 것이 아닌 이미 누군가가 잘 가꿔놓은 길을 따라가는 느낌이 강하다. 
그러나 실무에서는 새로운 기능 개발이 이러한 길을 구축하는 과정에 더 가까울 것이라 생각한다. 따라서 실무에서 개발하고 리팩터링을 진행하는 구체적인 흐름과 접근 방식이 궁금하다.

현재 테스트 작성을 하지 않는 문화가 자리 잡힌 환경에서 일하고 있어, 
이러한 부분을 실무에서 논의하거나 적용하는 데 어려움을 겪고있다. 
기본적으로 로직을 테스트 가능하게 만들려면 메서드를 단위로 분리하는 것이 핵심이다. 
하지만 메서드로 분리하면서 코드를 리팩터링할 때, 
"타입을 묶고 코드 개선 가능성을 염두에 두고 분리한 것인지", 
아니면 "한눈에 보이는 수정 필요성을 기반으로 고려한 것인지" 스스로에게 자문하게 된다.

항상 후자의 방식으로 사고하는 개발자가 되고 싶지만, 경험상 전자적인 접근에 더 가까운 것 같다.
<br><br>
또한 임시 변수를 질의 함수로 바꾸는 부분이 아직까진 이 기법을 써야하는 이유를 100%까지 납득이 되진 않는다.
지역 변수 제거시 해당 변수를 함수 형태로 값을 가져오도록 할 수 있고, 임시 변수로 인해 가독성이 떨어지는 경우 사용하면 유용할 것이라 생각된다.
<br><br>
하지만 함수의 수가 많아져 파일내 코드가 비대해진다는 단점도 있고, 
'굳이 함수로 바꿔야하나?' 와 '바꾸면 어떤 경우엔 테스트가 가능해지고 메인 로직에서 가독성 향상이란 장점' 이 사이에서 왔다갔다 하는 것 같다.

---
위와 같은 고민을 안은 채 첫번째 스터디 준비를 마쳤다.. 

기대되고 긴장된다. 토비님과 하는 스터디. ㅎ-ㅎ
